# –ê–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã —Ü–µ–Ω –≤ FubaMarket

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã —Ü–µ–Ω

### 1. **Backend (Django) - –•—Ä–∞–Ω–µ–Ω–∏–µ —Ü–µ–Ω**

#### –ú–æ–¥–µ–ª—å Product:
```python
price_uzs = models.DecimalField(max_digits=10, decimal_places=2, validators=[MinValueValidator(0)])
```

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –¶–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ **—Å—É–º–∞—Ö (UZS)** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `DecimalField` –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ (10 —Ü–∏—Ñ—Ä, 2 –∑–Ω–∞–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: 0

#### –ú–æ–¥–µ–ª—å OrderItem:
```python
price = models.DecimalField(max_digits=10, decimal_places=2)
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –¶–µ–Ω–∞ –∑–∞–∫–∞–∑–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Å—É–º–∞—Ö –Ω–∞ –º–æ–º–µ–Ω—Ç –ø–æ–∫—É–ø–∫–∏
- –ó–∞—â–∏—â–∞–µ—Ç –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω –ø–æ—Å–ª–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞

### 2. **Frontend (Next.js) - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω**

#### –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏:
```typescript
// lib/currency.ts
const USD_TO_UZS_RATE = 12500

export function convertUsdToUzs(usdAmount: number): number {
  return Math.round(usdAmount * USD_TO_UZS_RATE)
}
```

#### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω:
```typescript
export function formatUzsWithSpaces(amount: number): string {
  return amount.toLocaleString('uz-UZ') + ' so\'m'
}
```

## üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å —Ü–µ–Ω–∞–º–∏

### 1. **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å - –í–≤–æ–¥ —Ü–µ–Ω**
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤–≤–æ–¥–∏—Ç —Ü–µ–Ω—ã **–Ω–∞–ø—Ä—è–º—É—é –≤ —Å—É–º–∞—Ö**
- –ü–æ–ª–µ: `price_uzs` (–Ω–∞–ø—Ä–∏–º–µ—Ä: 125000 —Å—É–º)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫ –µ—Å—Ç—å

### 2. **Frontend - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω**
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–Ω—ã –≤ —Å—É–º–∞—Ö (`price_uzs`)
- Frontend –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∏—Ö –≤ "–¥–æ–ª–ª–∞—Ä—ã" –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- –ü—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ —Å—É–º—ã

### 3. **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ use-product-filters.ts:**
```typescript
price: (Number(p.price_uzs) || 0) / 100, // Convert from cents to dollars
```

**‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê:** –ó–¥–µ—Å—å –µ—Å—Ç—å –æ—à–∏–±–∫–∞ –≤ –ª–æ–≥–∏–∫–µ!

## üö® –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ use-product-filters.ts**
```typescript
// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
price: (Number(p.price_uzs) || 0) / 100, // –î–µ–ª–∏—Ç –Ω–∞ 100

// –ü–†–ê–í–ò–õ–¨–ù–û –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
price: Number(p.price_uzs) || 0, // –ë–µ–∑ –¥–µ–ª–µ–Ω–∏—è –Ω–∞ 100
```

### 2. **–î–≤–æ–π–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ product-card.tsx**
```typescript
// –ü–æ–ª—É—á–∞–µ–º —Ü–µ–Ω—É –≤ "–¥–æ–ª–ª–∞—Ä–∞—Ö" (–Ω–æ –æ–Ω–∞ —É–∂–µ –≤ —Å—É–º–∞—Ö!)
const priceInUzs = useMemo(() => convertUsdToUzs(product.price), [product.price])
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¶–µ–Ω–∞ —É–º–Ω–æ–∂–∞–µ—Ç—Å—è –Ω–∞ 12500 –¥–≤–∞–∂–¥—ã!

### 3. **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏**
- –í –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏: `125000 —Å—É–º` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ: `1,562,500,000 —Å—É–º` (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å use-product-filters.ts:**
```typescript
// –ë–´–õ–û:
price: (Number(p.price_uzs) || 0) / 100,

// –î–û–õ–ñ–ù–û –ë–´–¢–¨:
price: Number(p.price_uzs) || 0,
```

### 2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å product-card.tsx:**
```typescript
// –ë–´–õ–û:
const priceInUzs = useMemo(() => convertUsdToUzs(product.price), [product.price])

// –î–û–õ–ñ–ù–û –ë–´–¢–¨:
const priceInUzs = useMemo(() => product.price, [product.price])
```

### 3. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å product/[id]/page.tsx:**
```typescript
// –ë–´–õ–û:
{formatUzsWithSpaces(convertUsdToUzs(product.price))}

// –î–û–õ–ñ–ù–û –ë–´–¢–¨:
{formatUzsWithSpaces(product.price)}
```

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (–≤–≤–æ–¥ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω –≤ —Å—É–º–∞—Ö)
- API (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–Ω—ã –≤ —Å—É–º–∞—Ö)
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Ö—Ä–∞–Ω–∏—Ç —Ü–µ–Ω—ã –≤ —Å—É–º–∞—Ö)

### ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–¥–≤–æ–π–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è)
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–¥—É–∫—Ç–∞ (–¥–≤–æ–π–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è)
- –ö–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–¥–≤–æ–π–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è)

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. **–£–ø—Ä–æ—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É:**
- –£–±—Ä–∞—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é USD ‚Üî UZS
- –†–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å —Å—É–º–∞–º–∏
- –£–±—Ä–∞—Ç—å `convertUsdToUzs` —Ñ—É–Ω–∫—Ü–∏—é

### 2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
- `use-product-filters.ts`
- `product-card.tsx`
- `product/[id]/page.tsx`
- `checkout/page.tsx`
- `orders/page.tsx`

### 3. **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ü–µ–Ω—ã –Ω–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ü–µ–Ω—ã –Ω–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ
- –î–æ–±–∞–≤–∏—Ç—å –ª–∏–º–∏—Ç—ã –¥–ª—è –≤–≤–æ–¥–∞

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ —Ü–µ–Ω –∏–º–µ–µ—Ç **—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É** —Å –¥–≤–æ–π–Ω–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—é —Ü–µ–Ω –Ω–∞ frontend. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, —á—Ç–æ–±—ã —Ü–µ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ü–µ–Ω—ã!
